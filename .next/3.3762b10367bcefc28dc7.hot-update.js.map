{"version":3,"sources":["webpack:///./pages/photo.js?d814"],"names":["Wrapper","styled","div","Content","PhotoPage","state","baseUrl","photo","undefined","update","url","props","album","_find","data","albums","id","query","albumId","setState","photos","photoId","fetch","then","res","json","title","pathname"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAMA,UAAU,kEAAAC,CAAOC,GAAjB;AAAA;AAAA;AAAA,oFAAN;;AAQA,IAAMC,UAAU,kEAAAF,CAAOC,GAAjB;AAAA;AAAA;AAAA,sCAAN;;IAKME,S;;;;;;;;;;;;;;gMACFC,K,GAAQ;AACJC,qBAAS,EADL;AAEJC,mBAAOC;AAFH,S,QAKRC,M,GAAS,gBAAQ;AAAA,gBACNC,GADM,GACC,MAAKC,KADN,CACND,GADM;;AAEb,gBAAME,QAAQ,mDAAAC,CAAMC,KAAKC,MAAX,EAAmB,EAACC,IAAIN,IAAIO,KAAJ,CAAUC,OAAf,EAAnB,CAAd;;AAEA,kBAAKC,QAAL,CAAc;AAAA,uBAAO;AACjBb,6BAASQ,KAAKR,OADG;AAEjBC,2BAAO,mDAAAM,CAAMD,MAAMQ,MAAZ,EAAoB,EAACJ,IAAIN,IAAIO,KAAJ,CAAUI,OAAf,EAApB;AAFU,iBAAP;AAAA,aAAd;AAIH,S;;;;;;;AAED;;;;;;4CAMoB;AAAA;;AAChBC,kBAAM,mBAAN,EACKC,IADL,CACU,eAAO;AACT,uBAAOC,IAAIC,IAAJ,EAAP;AACH,aAHL,EAIKF,IAJL,CAIU,gBAAQ;AACV,uBAAKd,MAAL,CAAYgB,IAAZ;AACH,aANL;AAOH;;;iCAEQ;AAAA,yBACoB,KAAKpB,KADzB;AAAA,gBACEE,KADF,UACEA,KADF;AAAA,gBACSD,OADT,UACSA,OADT;AAAA,gBAEEI,GAFF,GAES,KAAKC,KAFd,CAEED,GAFF;;;AAIL,gBAAIH,KAAJ,EAAW;AACP,uBACI;AAAC,2BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,gFAAC,qEAAD,IAAU,OAAO,cAAjB;AAAA;AAAA;AAAA;AAAA,sBADJ;AAEI,gFAAC,qEAAD,IAAU,OAAOA,MAAMmB,KAAvB,EAA8B,UAAU,EAACC,UAAU,QAAX,EAAqBV,OAAO,EAACD,IAAIN,IAAIO,KAAJ,CAAUC,OAAf,EAA5B,EAAxC;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAGI;AAAC,+BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,oFAAC,kEAAD,IAAO,UAAUX,MAAMG,GAAvB,EAA4B,SAASJ,OAArC,EAA8C,OAAOC,MAAMmB,KAA3D;AAAA;AAAA;AAAA;AAAA;AADJ;AAHJ,iBADJ;AASH,aAVD,MAUO;AACH,uBACI;AAAC,2BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,gFAAC,qEAAD,IAAU,OAAO,cAAjB;AAAA;AAAA;AAAA;AAAA,sBADJ;AAEI;AAAC,+BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,oFAAC,oEAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAFJ,iBADJ;AAQH;AACJ;;;;;;;;;EAxDmB,gD;;eA2DTtB,S;;;AAAf;;;;;;;;;;;;4BAxEMJ,O;4BAQAG,O;4BAKAC,S","file":"3.3762b10367bcefc28dc7.hot-update.js","sourcesContent":["import react, {Component} from 'react';\r\nimport styled from 'styled-components';\r\nimport _find from 'lodash/find';\r\n\r\nimport Loading from '../components/Loading';\r\nimport TitleBar from '../components/TitleBar';\r\nimport Slide from '../components/Slide';\r\n\r\nconst Wrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst Content = styled.div`\r\n    flex-grow: 1;\r\n    position: relative;\r\n`;\r\n\r\nclass PhotoPage extends Component {\r\n    state = {\r\n        baseUrl: '',\r\n        photo: undefined,\r\n    };\r\n\r\n    update = data => {\r\n        const {url} = this.props;\r\n        const album = _find(data.albums, {id: url.query.albumId});\r\n\r\n        this.setState(() => ({\r\n            baseUrl: data.baseUrl,\r\n            photo: _find(album.photos, {id: url.query.photoId}),\r\n        }));\r\n    };\r\n\r\n    /* getInitialProps = async ({req}) => {\r\n        const res = await fetch('static/data.json');\r\n        const json = await res.json();\r\n        this.update(data);\r\n    }; */\r\n\r\n    componentDidMount() {\r\n        fetch('/static/data.json')\r\n            .then(res => {\r\n                return res.json();\r\n            })\r\n            .then(json => {\r\n                this.update(json);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const {photo, baseUrl} = this.state;\r\n        const {url} = this.props;\r\n\r\n        if (photo) {\r\n            return (\r\n                <Wrapper>\r\n                    <TitleBar title={'React Photos'} />\r\n                    <TitleBar title={photo.title} backLink={{pathname: '/album', query: {id: url.query.albumId}}} />\r\n                    <Content>\r\n                        <Slide imageUrl={photo.url} baseUrl={baseUrl} title={photo.title} />\r\n                    </Content>\r\n                </Wrapper>\r\n            );\r\n        } else {\r\n            return (\r\n                <Wrapper>\r\n                    <TitleBar title={'React Photos'} />\r\n                    <Content>\r\n                        <Loading />\r\n                    </Content>\r\n                </Wrapper>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default PhotoPage;\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/photo.js"],"sourceRoot":""}